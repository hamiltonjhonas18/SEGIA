/*
 * CENTRAL MASTER SERVER APPLICATION (Web, Desktop and Mobile)
 * 
 * [DEVELOPER]:    Hamilton Jhonas  | Software Engennier
 *   [CONTACT]:    hamilton.jhonas18@gmail.com  | + (258) 82 690 07984/ 84 690 07984
 * 
 * This Server is based on Hibernate framework, Webservices, Servlets and supported by JDK 1.8 
 * All rights reserved  * 

 */
package com.dciapps.mail;

import com.dciapps.localcontroler.Data;
import com.dciapps.localcontroler.EncryptUtils;
import com.dciapps.localcontroler.MailSender;
import com.dciapps.webclient.Cliente;
import com.dciapps.webclient.Usuario;
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.text.DecimalFormat;
import java.text.SimpleDateFormat;
import java.util.List;

/**
 *
 * @author HJC2K8
 */
public class Sender {

    MailSender ms = new MailSender();
    EncryptUtils encryptUtils = new EncryptUtils();
    SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy HH:mm:ss");
    String ip = getUrlServer();
    Data data = new Data();
    DecimalFormat df = new DecimalFormat("#,###,##0.00");

    public Sender() {

        data.le_hora();
    }

    private String getUrlServer() {
        String urlServer = "197.249.4.236";
        try {
            try (BufferedReader br = new BufferedReader(new FileReader("C:\\SETTINGS\\market\\ip.txt"))) {
                urlServer = br.readLine();
            }
        } catch (IOException exception) {

        }

        return urlServer;
    }

    public void mailWellcome(Usuario usuario) {

        String nome = encryptUtils.decodeString(usuario.getPessoapess().getPessNome()) + " " + encryptUtils.decodeString(usuario.getPessoapess().getPessApelido());
        String username = encryptUtils.decodeString(usuario.getUsuaUsuario());
        String to = encryptUtils.decodeString(usuario.getPessoapess().getPessEmail());
        String pass = encryptUtils.decodeString(usuario.getUsuaSenha());
        String subject = "GestaOnline-Facturação [BOAS VINDAS]";
        String category = "";

        String message = "<!doctype html>\n"
                + "<html xmlns='http://www.w3.org/1999/xhtml'>\n"
                + "<head>\n"
                + "  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n"
                + "  <meta name='viewport' content='width=device-width, initial-scale=1' />\n"
                + "  <title>GO-FACTURACAO Email</title>\n"
                + "  <style type='text/css'>\n"
                + "\n"
                + "  /* Take care of image borders and formatting */\n"
                + "\n"
                + "  img {\n"
                + "    max-width: 600px;\n"
                + "    outline: none;\n"
                + "    text-decoration: none;\n"
                + "    -ms-interpolation-mode: bicubic;\n"
                + "  }\n"
                + "\n"
                + "  a {\n"
                + "    border: 0;\n"
                + "    outline: none;\n"
                + "  }\n"
                + "\n"
                + "  a img {\n"
                + "    border: none;\n"
                + "  }\n"
                + "\n"
                + "  /* General styling */\n"
                + "\n"
                + "  td, h1, h2, h3  {\n"
                + "    font-family: Helvetica, Arial, sans-serif;\n"
                + "    font-weight: 400;\n"
                + "  }\n"
                + "\n"
                + "  td {\n"
                + "    font-size: 13px;\n"
                + "    line-height: 19px;\n"
                + "    text-align: left;\n"
                + "  }\n"
                + "\n"
                + "  body {\n"
                + "    -webkit-font-smoothing:antialiased;\n"
                + "    -webkit-text-size-adjust:none;\n"
                + "    width: 100%;\n"
                + "    height: 100%;\n"
                + "    color: #37302d;\n"
                + "    background: #ffffff;\n"
                + "  }\n"
                + "\n"
                + "  table {\n"
                + "    border-collapse: collapse !important;\n"
                + "  }\n"
                + "\n"
                + "\n"
                + "  h1, h2, h3, h4 {\n"
                + "    padding: 0;\n"
                + "    margin: 0;\n"
                + "    color: #444444;\n"
                + "    font-weight: 400;\n"
                + "    line-height: 110%;\n"
                + "  }\n"
                + "\n"
                + "  h1 {\n"
                + "    font-size: 35px;\n"
                + "  }\n"
                + "\n"
                + "  h2 {\n"
                + "    font-size: 30px;\n"
                + "  }\n"
                + "\n"
                + "  h3 {\n"
                + "    font-size: 24px;\n"
                + "  }\n"
                + "\n"
                + "  h4 {\n"
                + "    font-size: 18px;\n"
                + "    font-weight: normal;\n"
                + "  }\n"
                + "\n"
                + "  .important-font {\n"
                + "    color: #21BEB4;\n"
                + "    font-weight: bold;\n"
                + "  }\n"
                + "\n"
                + "  .hide {\n"
                + "    display: none !important;\n"
                + "  }\n"
                + "\n"
                + "  .force-full-width {\n"
                + "    width: 100% !important;\n"
                + "  }\n"
                + "\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='screen'>\n"
                + "      @media screen {\n"
                + "        @import url(http://fonts.googleapis.com/css?family=Open+Sans:400);\n"
                + "\n"
                + "        /* Thanks Outlook 2013! */\n"
                + "        td, h1, h2, h3 {\n"
                + "          font-family: 'Open Sans', 'Helvetica Neue', Arial, sans-serif !important;\n"
                + "        }\n"
                + "      }\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='only screen and (max-width: 600px)'>\n"
                + "    /* Mobile styles */\n"
                + "    @media only screen and (max-width: 600px) {\n"
                + "\n"
                + "      table[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w300'] {\n"
                + "        width: 300px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w290'] {\n"
                + "        width: 290px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-padding'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left'] {\n"
                + "        padding-left: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right'] {\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left-only'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right-only'] {\n"
                + "        padding-right: 14px !important;\n"
                + "        padding-left: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-block'] {\n"
                + "        display: block !important;\n"
                + "        width: 100% !important;\n"
                + "        text-align: left !important;\n"
                + "        padding-left: 0 !important;\n"
                + "        padding-right: 0 !important;\n"
                + "        padding-bottom: 15px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-no-padding-bottom'] {\n"
                + "        padding-bottom: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-center'] {\n"
                + "        text-align: center !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class*='mobile-center-block'] {\n"
                + "        float: none !important;\n"
                + "        margin: 0 auto !important;\n"
                + "      }\n"
                + "\n"
                + "      *[class*='mobile-hide'] {\n"
                + "        display: none !important;\n"
                + "        width: 0 !important;\n"
                + "        height: 0 !important;\n"
                + "        line-height: 0 !important;\n"
                + "        font-size: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-border'] {\n"
                + "        border: 0 !important;\n"
                + "      }\n"
                + "    }\n"
                + "  </style>\n"
                + "</head>\n"
                + "<body class='body' style='padding:0; margin:0; display:block; background:#ffffff; -webkit-text-size-adjust:none' bgcolor='#ffffff'>\n"
                + "<table align='center' cellpadding='0' cellspacing='0' width='100%' height='100%'>\n"
                + "  <tr>\n"
                + "    <td align='center' valign='top' bgcolor='#ffffff'  width='100%'>\n"
                + "\n"
                + "    <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "      <tr>\n"
                + "        <td style='background:#c62828' width='100%'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellspacing='0' cellpadding='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-block mobile-no-padding-bottom mobile-center' width='270' style='background:#c62828;padding:10px 10px 10px 20px;'>\n"
                + "                  <a href='#' style='text-decoration:none;'>\n"
                + "                    <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-logo.png' width='142' height='30' alt='GO-FACTURACAO'/>\n"
                + "                  </a>\n"
                + "                </td>\n"
                + "                <td valign='top' class='mobile-block mobile-center' width='270' style='background:#c62828;padding:10px 15px 10px 10px'>\n"
                + "                  <table border='0' cellpadding='0' cellspacing='0' class='mobile-center-block' align='right'>\n"
                + "                    <tr>\n"
                + "                      <td align='right'>\n"
                + "                        <a href='#'>\n"
                + "                        <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-facturacao.png'  width='350' height='30' alt='social icon'/>\n"
                + "                        </a>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellpadding='0' cellspacing='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td align='left' class='mobile-padding' style='padding:20px 20px 0'>\n"
                + "\n"
                + "                  <br class='mobile-hide' />\n"
                + "\n"
                + "                  <h4 style='color:#05145f'><b>PLATAFORMA INTEGRADA DE VENDAS E FACTURAÇÃO</b></h4>\n"
                + "\n"
                + "                  <br>\n"
                + "                   Olá <b>" + nome + "</b>! Foi criada a sua conta na nossa plataforma, e podes acessar através do abaixo.!<br>\n"
                + "                  <br>\n"
                + "\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%' bgcolor='#ffffff'>\n"
                + "                    <tr>\n"
                + "                      <td style='width:130px;background:#EF5350;'>\n"
                + "                        <div>\n"
                + "                          <!--[if mso]>\n"
                + "                          <v:rect xmlns:v='urn:schemas-microsoft-com:vml' xmlns:w='urn:schemas-microsoft-com:office:word' href='#' style='height:33px;v-text-anchor:middle;width:130px;' stroke='f' fillcolor='#EF5350'>\n"
                + "                            <w:anchorlock/>\n"
                + "                            <center>\n"
                + "                          <![endif]-->\n"
                + "                              <a href='http://" + ip + ":8085/go-facturacao'\n"
                + "                        style='background-color:#EF5350;color:#ffffff;display:inline-block;font-family:sans-serif;font-size:13px;font-weight:bold;line-height:33px;text-align:center;text-decoration:none;width:230px;-webkit-text-size-adjust:none;'>Aceder a plataforma!</a>\n"
                + "                          <!--[if mso]>\n"
                + "                            </center>\n"
                + "                          </v:rect>\n"
                + "                          <![endif]-->\n"
                + "                        </div>\n"
                + "                      </td>\n"
                + "                      <td width='316' style='background-color:#ffffff; font-size:0; line-height:0;'>&nbsp;</td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                  <br><br>\n"
                + "                </td>\n"
                + "                <td class='mobile-hide' style='padding-top:20px;padding-bottom:0;vertical-align:bottom'>\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "                    <tr>\n"
                + "                      <td align='right' valign='bottom' width='220' style='padding-right:20px; padding-bottom:0; vertical-align:bottom;'>\n"
                + "                      <img  style='display:block' src='http://197.249.4.236:8081/suc/images/mail/gestaonline/01-home-iphone.png'  width='174' height='294' alt='iphone'/>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td valign='top' style='background-color:#f8f8f8;border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-padding' style='padding:20px;'>\n"
                + "                  <h2>Dados de Login</h2>\n"
                + "                  <br>\n"
                + "                   <b>E-mail(username): </b> " + username + " <br>\n"
                + "                   \n"
                + "                  A sua password é <b>" + pass + "</b>, aconselhamos que altere no seu primeiro login e não se esqueça de definir a sua pergunta de segurança. <br>\n"
                + "                  <br>\n"
                + "                  \n"
                + "                  Obrigado !<br>\n"
                + "                 <b>Equipe do GestaOnline</b><br>\n"
                + "                                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='background-color:#c62828;'>\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;color:#ffffff' bgcolor='#1f1f1f' >\n"
                + "              <tr>\n"
                + "                <td align='right' valign='middle' class='mobile-padding' style='font-size:9px;padding:20px; background-color:#c62828; color:#ffffff; text-align:left; '>\n"
                + "                  <a style='color:#ffffff;'  href='#'>E-mail enviado automáticamente pelo sistema @ 2017 | Não responda a este e-mail !</a>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "    </table>\n"
                + "\n"
                + "    </td>\n"
                + "  </tr>\n"
                + "</table>\n"
                + "</body>\n"
                + "</html>";

        ms.sendMail(to, subject, message, category);

    }

    public void mailOffline(Usuario usuario) {

        String nome = encryptUtils.decodeString(usuario.getPessoapess().getPessNome()) + " " + encryptUtils.decodeString(usuario.getPessoapess().getPessApelido());
        String username = encryptUtils.decodeString(usuario.getUsuaUsuario());
        String to = encryptUtils.decodeString(usuario.getPessoapess().getPessEmail());
        String pass = encryptUtils.decodeString(usuario.getUsuaSenha());
        String subject = "GestaOnline-Facturação [PLATAFORMA OFFLINE]";
        String category = "";

        String message = "<!doctype html>\n"
                + "<html xmlns='http://www.w3.org/1999/xhtml'>\n"
                + "<head>\n"
                + "  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n"
                + "  <meta name='viewport' content='width=device-width, initial-scale=1' />\n"
                + "  <title>GO-FACTURACAO Email</title>\n"
                + "  <style type='text/css'>\n"
                + "\n"
                + "  /* Take care of image borders and formatting */\n"
                + "\n"
                + "  img {\n"
                + "    max-width: 600px;\n"
                + "    outline: none;\n"
                + "    text-decoration: none;\n"
                + "    -ms-interpolation-mode: bicubic;\n"
                + "  }\n"
                + "\n"
                + "  a {\n"
                + "    border: 0;\n"
                + "    outline: none;\n"
                + "  }\n"
                + "\n"
                + "  a img {\n"
                + "    border: none;\n"
                + "  }\n"
                + "\n"
                + "  /* General styling */\n"
                + "\n"
                + "  td, h1, h2, h3  {\n"
                + "    font-family: Helvetica, Arial, sans-serif;\n"
                + "    font-weight: 400;\n"
                + "  }\n"
                + "\n"
                + "  td {\n"
                + "    font-size: 13px;\n"
                + "    line-height: 19px;\n"
                + "    text-align: left;\n"
                + "  }\n"
                + "\n"
                + "  body {\n"
                + "    -webkit-font-smoothing:antialiased;\n"
                + "    -webkit-text-size-adjust:none;\n"
                + "    width: 100%;\n"
                + "    height: 100%;\n"
                + "    color: #37302d;\n"
                + "    background: #ffffff;\n"
                + "  }\n"
                + "\n"
                + "  table {\n"
                + "    border-collapse: collapse !important;\n"
                + "  }\n"
                + "\n"
                + "\n"
                + "  h1, h2, h3, h4 {\n"
                + "    padding: 0;\n"
                + "    margin: 0;\n"
                + "    color: #444444;\n"
                + "    font-weight: 400;\n"
                + "    line-height: 110%;\n"
                + "  }\n"
                + "\n"
                + "  h1 {\n"
                + "    font-size: 35px;\n"
                + "  }\n"
                + "\n"
                + "  h2 {\n"
                + "    font-size: 30px;\n"
                + "  }\n"
                + "\n"
                + "  h3 {\n"
                + "    font-size: 24px;\n"
                + "  }\n"
                + "\n"
                + "  h4 {\n"
                + "    font-size: 18px;\n"
                + "    font-weight: normal;\n"
                + "  }\n"
                + "\n"
                + "  .important-font {\n"
                + "    color: #21BEB4;\n"
                + "    font-weight: bold;\n"
                + "  }\n"
                + "\n"
                + "  .hide {\n"
                + "    display: none !important;\n"
                + "  }\n"
                + "\n"
                + "  .force-full-width {\n"
                + "    width: 100% !important;\n"
                + "  }\n"
                + "\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='screen'>\n"
                + "      @media screen {\n"
                + "        @import url(http://fonts.googleapis.com/css?family=Open+Sans:400);\n"
                + "\n"
                + "        /* Thanks Outlook 2013! */\n"
                + "        td, h1, h2, h3 {\n"
                + "          font-family: 'Open Sans', 'Helvetica Neue', Arial, sans-serif !important;\n"
                + "        }\n"
                + "      }\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='only screen and (max-width: 600px)'>\n"
                + "    /* Mobile styles */\n"
                + "    @media only screen and (max-width: 600px) {\n"
                + "\n"
                + "      table[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w300'] {\n"
                + "        width: 300px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w290'] {\n"
                + "        width: 290px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-padding'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left'] {\n"
                + "        padding-left: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right'] {\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left-only'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right-only'] {\n"
                + "        padding-right: 14px !important;\n"
                + "        padding-left: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-block'] {\n"
                + "        display: block !important;\n"
                + "        width: 100% !important;\n"
                + "        text-align: left !important;\n"
                + "        padding-left: 0 !important;\n"
                + "        padding-right: 0 !important;\n"
                + "        padding-bottom: 15px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-no-padding-bottom'] {\n"
                + "        padding-bottom: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-center'] {\n"
                + "        text-align: center !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class*='mobile-center-block'] {\n"
                + "        float: none !important;\n"
                + "        margin: 0 auto !important;\n"
                + "      }\n"
                + "\n"
                + "      *[class*='mobile-hide'] {\n"
                + "        display: none !important;\n"
                + "        width: 0 !important;\n"
                + "        height: 0 !important;\n"
                + "        line-height: 0 !important;\n"
                + "        font-size: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-border'] {\n"
                + "        border: 0 !important;\n"
                + "      }\n"
                + "    }\n"
                + "  </style>\n"
                + "</head>\n"
                + "<body class='body' style='padding:0; margin:0; display:block; background:#ffffff; -webkit-text-size-adjust:none' bgcolor='#ffffff'>\n"
                + "<table align='center' cellpadding='0' cellspacing='0' width='100%' height='100%'>\n"
                + "  <tr>\n"
                + "    <td align='center' valign='top' bgcolor='#ffffff'  width='100%'>\n"
                + "\n"
                + "    <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "      <tr>\n"
                + "        <td style='background:#c62828' width='100%'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellspacing='0' cellpadding='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-block mobile-no-padding-bottom mobile-center' width='270' style='background:#c62828;padding:10px 10px 10px 20px;'>\n"
                + "                  <a href='#' style='text-decoration:none;'>\n"
                + "                    <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-logo.png' width='142' height='30' alt='GO-FACTURACAO'/>\n"
                + "                  </a>\n"
                + "                </td>\n"
                + "                <td valign='top' class='mobile-block mobile-center' width='270' style='background:#c62828;padding:10px 15px 10px 10px'>\n"
                + "                  <table border='0' cellpadding='0' cellspacing='0' class='mobile-center-block' align='right'>\n"
                + "                    <tr>\n"
                + "                      <td align='right'>\n"
                + "                        <a href='#'>\n"
                + "                        <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-facturacao.png'  width='350' height='30' alt='social icon'/>\n"
                + "                        </a>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellpadding='0' cellspacing='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td align='justify' class='mobile-padding' style='padding:20px 20px 0'>\n"
                + "\n"
                + "                  <br class='mobile-hide' />\n"
                + "\n"
                + "\n"
                + "                  <br>\n"
                + "                 Olá <b>Administrador</b>, Informamos que a plataforma encontra-se temporariamente indísponivel.<br><br>\n"
                + "                   \n"
                + "                  <br>\n"
                + "                   Obrigado !\n"
                + "                  <br>\n"
                + "                  <b>Equipe do GestaOnline</b>\n"
                + "                  \n"
                + "                  <br><br>\n"
                + "                </td>\n"
                + "                <td class='mobile-hide' style='padding-top:20px;padding-bottom:0;vertical-align:bottom'>\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "                    <tr>\n"
                + "                      <td align='right' valign='bottom' width='220' style='padding-right:20px; padding-bottom:0; vertical-align:bottom;'>\n"
                + "                      <img  style='display:block' src='http://197.249.4.236:8081/suc/images/mail/gestaonline/09-web-offline.png'  width='174' height='294' alt='iphone'/>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='background-color:#c62828;'>\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;color:#ffffff' bgcolor='#1f1f1f' >\n"
                + "              <tr>\n"
                + "                <td align='right' valign='middle' class='mobile-padding' style='font-size:9px;padding:20px; background-color:#c62828; color:#ffffff; text-align:left; '>\n"
                + "                  <a style='color:#ffffff;'  href='#'>E-mail enviado automáticamente pelo sistema @ 2017 | Não responda a este e-mail !</a>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "    </table>\n"
                + "\n"
                + "    </td>\n"
                + "  </tr>\n"
                + "</table>\n"
                + "</body>\n"
                + "</html>";

        ms.sendMail(to, subject, message, category);

    }

    public void mailMessageSend(Usuario usuario) {

        String nome = encryptUtils.decodeString(usuario.getPessoapess().getPessNome()) + " " + encryptUtils.decodeString(usuario.getPessoapess().getPessApelido());
        String username = encryptUtils.decodeString(usuario.getUsuaUsuario());
        String to = encryptUtils.decodeString(usuario.getPessoapess().getPessEmail());
        String pass = encryptUtils.decodeString(usuario.getUsuaSenha());
        String subject = "GestaOnline-Facturação [SUPORTE]";
        String category = "";

        String message = "<!doctype html>\n"
                + "<html xmlns='http://www.w3.org/1999/xhtml'>\n"
                + "<head>\n"
                + "  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n"
                + "  <meta name='viewport' content='width=device-width, initial-scale=1' />\n"
                + "  <title>GO-FACTURACAO Email</title>\n"
                + "  <style type='text/css'>\n"
                + "\n"
                + "  /* Take care of image borders and formatting */\n"
                + "\n"
                + "  img {\n"
                + "    max-width: 600px;\n"
                + "    outline: none;\n"
                + "    text-decoration: none;\n"
                + "    -ms-interpolation-mode: bicubic;\n"
                + "  }\n"
                + "\n"
                + "  a {\n"
                + "    border: 0;\n"
                + "    outline: none;\n"
                + "  }\n"
                + "\n"
                + "  a img {\n"
                + "    border: none;\n"
                + "  }\n"
                + "\n"
                + "  /* General styling */\n"
                + "\n"
                + "  td, h1, h2, h3  {\n"
                + "    font-family: Helvetica, Arial, sans-serif;\n"
                + "    font-weight: 400;\n"
                + "  }\n"
                + "\n"
                + "  td {\n"
                + "    font-size: 13px;\n"
                + "    line-height: 19px;\n"
                + "    text-align: left;\n"
                + "  }\n"
                + "\n"
                + "  body {\n"
                + "    -webkit-font-smoothing:antialiased;\n"
                + "    -webkit-text-size-adjust:none;\n"
                + "    width: 100%;\n"
                + "    height: 100%;\n"
                + "    color: #37302d;\n"
                + "    background: #ffffff;\n"
                + "  }\n"
                + "\n"
                + "  table {\n"
                + "    border-collapse: collapse !important;\n"
                + "  }\n"
                + "\n"
                + "\n"
                + "  h1, h2, h3, h4 {\n"
                + "    padding: 0;\n"
                + "    margin: 0;\n"
                + "    color: #444444;\n"
                + "    font-weight: 400;\n"
                + "    line-height: 110%;\n"
                + "  }\n"
                + "\n"
                + "  h1 {\n"
                + "    font-size: 35px;\n"
                + "  }\n"
                + "\n"
                + "  h2 {\n"
                + "    font-size: 30px;\n"
                + "  }\n"
                + "\n"
                + "  h3 {\n"
                + "    font-size: 24px;\n"
                + "  }\n"
                + "\n"
                + "  h4 {\n"
                + "    font-size: 18px;\n"
                + "    font-weight: normal;\n"
                + "  }\n"
                + "\n"
                + "  .important-font {\n"
                + "    color: #21BEB4;\n"
                + "    font-weight: bold;\n"
                + "  }\n"
                + "\n"
                + "  .hide {\n"
                + "    display: none !important;\n"
                + "  }\n"
                + "\n"
                + "  .force-full-width {\n"
                + "    width: 100% !important;\n"
                + "  }\n"
                + "\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='screen'>\n"
                + "      @media screen {\n"
                + "        @import url(http://fonts.googleapis.com/css?family=Open+Sans:400);\n"
                + "\n"
                + "        /* Thanks Outlook 2013! */\n"
                + "        td, h1, h2, h3 {\n"
                + "          font-family: 'Open Sans', 'Helvetica Neue', Arial, sans-serif !important;\n"
                + "        }\n"
                + "      }\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='only screen and (max-width: 600px)'>\n"
                + "    /* Mobile styles */\n"
                + "    @media only screen and (max-width: 600px) {\n"
                + "\n"
                + "      table[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w300'] {\n"
                + "        width: 300px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w290'] {\n"
                + "        width: 290px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-padding'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left'] {\n"
                + "        padding-left: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right'] {\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left-only'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right-only'] {\n"
                + "        padding-right: 14px !important;\n"
                + "        padding-left: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-block'] {\n"
                + "        display: block !important;\n"
                + "        width: 100% !important;\n"
                + "        text-align: left !important;\n"
                + "        padding-left: 0 !important;\n"
                + "        padding-right: 0 !important;\n"
                + "        padding-bottom: 15px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-no-padding-bottom'] {\n"
                + "        padding-bottom: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-center'] {\n"
                + "        text-align: center !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class*='mobile-center-block'] {\n"
                + "        float: none !important;\n"
                + "        margin: 0 auto !important;\n"
                + "      }\n"
                + "\n"
                + "      *[class*='mobile-hide'] {\n"
                + "        display: none !important;\n"
                + "        width: 0 !important;\n"
                + "        height: 0 !important;\n"
                + "        line-height: 0 !important;\n"
                + "        font-size: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-border'] {\n"
                + "        border: 0 !important;\n"
                + "      }\n"
                + "    }\n"
                + "  </style>\n"
                + "</head>\n"
                + "<body class='body' style='padding:0; margin:0; display:block; background:#ffffff; -webkit-text-size-adjust:none' bgcolor='#ffffff'>\n"
                + "<table align='center' cellpadding='0' cellspacing='0' width='100%' height='100%'>\n"
                + "  <tr>\n"
                + "    <td align='center' valign='top' bgcolor='#ffffff'  width='100%'>\n"
                + "\n"
                + "    <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "      <tr>\n"
                + "        <td style='background:#c62828' width='100%'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellspacing='0' cellpadding='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-block mobile-no-padding-bottom mobile-center' width='270' style='background:#c62828;padding:10px 10px 10px 20px;'>\n"
                + "                  <a href='#' style='text-decoration:none;'>\n"
                + "                    <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-logo.png' width='142' height='30' alt='GO-FACTURACAO'/>\n"
                + "                  </a>\n"
                + "                </td>\n"
                + "                <td valign='top' class='mobile-block mobile-center' width='270' style='background:#c62828;padding:10px 15px 10px 10px'>\n"
                + "                  <table border='0' cellpadding='0' cellspacing='0' class='mobile-center-block' align='right'>\n"
                + "                    <tr>\n"
                + "                      <td align='right'>\n"
                + "                        <a href='#'>\n"
                + "                        <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-facturacao.png'  width='350' height='30' alt='social icon'/>\n"
                + "                        </a>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellpadding='0' cellspacing='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td align='justify' class='mobile-padding' style='padding:20px 20px 0'>\n"
                + "\n"
                + "                  <br class='mobile-hide' />\n"
                + "\n"
                + "\n"
                + "                  <br>\n"
                + "                   Olá <b>" + nome + "</b>! Detectamos o registo da sua mensagem, a nossa equipe de suporte entrará em conctacto através dos contactos disponibilizados no cabeçalho da sua mensagem.<br><br>\n"
                + "                   \n"
                + "\n"
                + "                  <br>\n"
                + "                   Obrigado !\n"
                + "                  <br>\n"
                + "                  <b>Equipe do GestaOnline</b>\n"
                + "                  \n"
                + "                  <br><br>\n"
                + "                </td>\n"
                + "                <td class='mobile-hide' style='padding-top:20px;padding-bottom:0;vertical-align:bottom'>\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "                    <tr>\n"
                + "                      <td align='right' valign='bottom' width='220' style='padding-right:20px; padding-bottom:0; vertical-align:bottom;'>\n"
                + "                      <img  style='display:block' src='http://197.249.4.236:8081/suc/images/mail/gestaonline/10-mail-check.png'  width='174' height='294' alt='iphone'/>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='background-color:#c62828;'>\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;color:#ffffff' bgcolor='#1f1f1f' >\n"
                + "              <tr>\n"
                + "                <td align='right' valign='middle' class='mobile-padding' style='font-size:9px;padding:20px; background-color:#c62828; color:#ffffff; text-align:left; '>\n"
                + "                  <a style='color:#ffffff;'  href='#'>E-mail enviado automáticamente pelo sistema @ 2017 | Não responda a este e-mail !</a>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "    </table>\n"
                + "\n"
                + "    </td>\n"
                + "  </tr>\n"
                + "</table>\n"
                + "</body>\n"
                + "</html>";

        ms.sendMail(to, subject, message, category);

    }

    public void mailException(String subject, String title, String msg) {

        String category = "";
        String message = "<!doctype html>\n"
                + "<html xmlns='http://www.w3.org/1999/xhtml'>\n"
                + "<head>\n"
                + "  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n"
                + "  <meta name='viewport' content='width=device-width, initial-scale=1' />\n"
                + "  <title>GO-FACTURACAO Email</title>\n"
                + "  <style type='text/css'>\n"
                + "\n"
                + "  /* Take care of image borders and formatting */\n"
                + "\n"
                + "  img {\n"
                + "    max-width: 600px;\n"
                + "    outline: none;\n"
                + "    text-decoration: none;\n"
                + "    -ms-interpolation-mode: bicubic;\n"
                + "  }\n"
                + "\n"
                + "  a {\n"
                + "    border: 0;\n"
                + "    outline: none;\n"
                + "  }\n"
                + "\n"
                + "  a img {\n"
                + "    border: none;\n"
                + "  }\n"
                + "\n"
                + "  /* General styling */\n"
                + "\n"
                + "  td, h1, h2, h3  {\n"
                + "    font-family: Helvetica, Arial, sans-serif;\n"
                + "    font-weight: 400;\n"
                + "  }\n"
                + "\n"
                + "  td {\n"
                + "    font-size: 13px;\n"
                + "    line-height: 19px;\n"
                + "    text-align: left;\n"
                + "  }\n"
                + "\n"
                + "  body {\n"
                + "    -webkit-font-smoothing:antialiased;\n"
                + "    -webkit-text-size-adjust:none;\n"
                + "    width: 100%;\n"
                + "    height: 100%;\n"
                + "    color: #37302d;\n"
                + "    background: #ffffff;\n"
                + "  }\n"
                + "\n"
                + "  table {\n"
                + "    border-collapse: collapse !important;\n"
                + "  }\n"
                + "\n"
                + "\n"
                + "  h1, h2, h3, h4 {\n"
                + "    padding: 0;\n"
                + "    margin: 0;\n"
                + "    color: #444444;\n"
                + "    font-weight: 400;\n"
                + "    line-height: 110%;\n"
                + "  }\n"
                + "\n"
                + "  h1 {\n"
                + "    font-size: 35px;\n"
                + "  }\n"
                + "\n"
                + "  h2 {\n"
                + "    font-size: 30px;\n"
                + "  }\n"
                + "\n"
                + "  h3 {\n"
                + "    font-size: 24px;\n"
                + "  }\n"
                + "\n"
                + "  h4 {\n"
                + "    font-size: 18px;\n"
                + "    font-weight: normal;\n"
                + "  }\n"
                + "\n"
                + "  .important-font {\n"
                + "    color: #21BEB4;\n"
                + "    font-weight: bold;\n"
                + "  }\n"
                + "\n"
                + "  .hide {\n"
                + "    display: none !important;\n"
                + "  }\n"
                + "\n"
                + "  .force-full-width {\n"
                + "    width: 100% !important;\n"
                + "  }\n"
                + "\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='screen'>\n"
                + "      @media screen {\n"
                + "        @import url(http://fonts.googleapis.com/css?family=Open+Sans:400);\n"
                + "\n"
                + "        /* Thanks Outlook 2013! */\n"
                + "        td, h1, h2, h3 {\n"
                + "          font-family: 'Open Sans', 'Helvetica Neue', Arial, sans-serif !important;\n"
                + "        }\n"
                + "      }\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='only screen and (max-width: 600px)'>\n"
                + "    /* Mobile styles */\n"
                + "    @media only screen and (max-width: 600px) {\n"
                + "\n"
                + "      table[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w300'] {\n"
                + "        width: 300px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w290'] {\n"
                + "        width: 290px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-padding'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left'] {\n"
                + "        padding-left: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right'] {\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left-only'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right-only'] {\n"
                + "        padding-right: 14px !important;\n"
                + "        padding-left: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-block'] {\n"
                + "        display: block !important;\n"
                + "        width: 100% !important;\n"
                + "        text-align: left !important;\n"
                + "        padding-left: 0 !important;\n"
                + "        padding-right: 0 !important;\n"
                + "        padding-bottom: 15px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-no-padding-bottom'] {\n"
                + "        padding-bottom: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-center'] {\n"
                + "        text-align: center !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class*='mobile-center-block'] {\n"
                + "        float: none !important;\n"
                + "        margin: 0 auto !important;\n"
                + "      }\n"
                + "\n"
                + "      *[class*='mobile-hide'] {\n"
                + "        display: none !important;\n"
                + "        width: 0 !important;\n"
                + "        height: 0 !important;\n"
                + "        line-height: 0 !important;\n"
                + "        font-size: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-border'] {\n"
                + "        border: 0 !important;\n"
                + "      }\n"
                + "    }\n"
                + "  </style>\n"
                + "</head>\n"
                + "<body class='body' style='padding:0; margin:0; display:block; background:#ffffff; -webkit-text-size-adjust:none' bgcolor='#ffffff'>\n"
                + "<table align='center' cellpadding='0' cellspacing='0' width='100%' height='100%'>\n"
                + "  <tr>\n"
                + "    <td align='center' valign='top' bgcolor='#ffffff'  width='100%'>\n"
                + "\n"
                + "    <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "      <tr>\n"
                + "        <td style='background:#c62828' width='100%'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellspacing='0' cellpadding='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-block mobile-no-padding-bottom mobile-center' width='270' style='background:#c62828;padding:10px 10px 10px 20px;'>\n"
                + "                  <a href='#' style='text-decoration:none;'>\n"
                + "                    <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-logo.png' width='142' height='30' alt='FIPAG'/>\n"
                + "                  </a>\n"
                + "                </td>\n"
                + "                <td valign='top' class='mobile-block mobile-center' width='270' style='background:#c62828;padding:10px 15px 10px 10px'>\n"
                + "                  <table border='0' cellpadding='0' cellspacing='0' class='mobile-center-block' align='right'>\n"
                + "                    <tr>\n"
                + "                      <td align='right'>\n"
                + "                        <a href='#'>\n"
                + "                        <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-facturacao.png'  width='350' height='30' alt='social icon'/>\n"
                + "                        </a>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellpadding='0' cellspacing='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td align='left' class='mobile-padding' style='padding:20px 20px 0'>\n"
                + "\n"
                + "                  <br class='mobile-hide' />\n"
                + "\n"
                + "                  <h4 style='color:#05145f'><b>PLATAFORMA INTEGRADA DE VENDAS E FACTURAÇÃO</b></h4>\n"
                + "\n"
                + "                  <br>\n"
                + "                   Detectamos a seguinte excepção em um dos procedimentos da plataforma com o seguinte cabeçalho <b>" + title + "</b>.!<br>\n"
                + "                  <br>\n"
                + "\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%' bgcolor='#ffffff'>\n"
                + "                    <tr>\n"
                + "                      <td width='316' style='background-color:#ffffff; font-size:0; line-height:0;'>&nbsp;</td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                  <br><br>\n"
                + "                </td>\n"
                + "                <td class='mobile-hide' style='padding-top:20px;padding-bottom:0;vertical-align:bottom'>\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "                    <tr>\n"
                + "                      <td align='right' valign='bottom' width='220' style='padding-right:20px; padding-bottom:0; vertical-align:bottom;'>\n"
                + "                      <img  style='display:block' src='http://197.249.4.236:8081/suc/images/mail/fipag/04-proccess-warning.png'  width='174' height='294' alt='iphone'/>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td valign='top' style='background-color:#f8f8f8;border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-padding' style='padding:20px;'>\n"
                + "                  <h3><b>DETALHES DA EXCEPÇÃO</b></h3>\n"
                + "                  <br>\n"
                + msg
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='background-color:#c62828;'>\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;color:#ffffff' bgcolor='#1f1f1f' >\n"
                + "              <tr>\n"
                + "                <td align='right' valign='middle' class='mobile-padding' style='font-size:9px;padding:20px; background-color:#c62828; color:#ffffff; text-align:left; '>\n"
                + "                  <a style='color:#ffffff;'  href='#'>E-mail enviado automáticamente pelo sistema @ 2017 | Não responda a este e-mail !</a>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "    </table>\n"
                + "\n"
                + "    </td>\n"
                + "  </tr>\n"
                + "</table>\n"
                + "</body>\n"
                + "</html>";

        ms.sendMail("dcinovaction@gmail.com", subject, message, category);
        ms.sendMail("support@dcinovaction.com", subject, message, category);

    }

    public void mailCheckPassword(Usuario usuario) {

        String nome = encryptUtils.decodeString(usuario.getPessoapess().getPessNome()) + " " + encryptUtils.decodeString(usuario.getPessoapess().getPessApelido());
        String username = encryptUtils.decodeString(usuario.getUsuaUsuario());
        String to = encryptUtils.decodeString(usuario.getPessoapess().getPessEmail());
        String pass = encryptUtils.decodeString(usuario.getUsuaSenha());
        String subject = "GestaOnline-Facturação [ALTERAÇÃO DE SENHA]";
        String category = "";

        String message = "<!doctype html>\n"
                + "<html xmlns='http://www.w3.org/1999/xhtml'>\n"
                + "<head>\n"
                + "  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n"
                + "  <meta name='viewport' content='width=device-width, initial-scale=1' />\n"
                + "  <title>GO-FACTURACAO Email</title>\n"
                + "  <style type='text/css'>\n"
                + "\n"
                + "  /* Take care of image borders and formatting */\n"
                + "\n"
                + "  img {\n"
                + "    max-width: 600px;\n"
                + "    outline: none;\n"
                + "    text-decoration: none;\n"
                + "    -ms-interpolation-mode: bicubic;\n"
                + "  }\n"
                + "\n"
                + "  a {\n"
                + "    border: 0;\n"
                + "    outline: none;\n"
                + "  }\n"
                + "\n"
                + "  a img {\n"
                + "    border: none;\n"
                + "  }\n"
                + "\n"
                + "  /* General styling */\n"
                + "\n"
                + "  td, h1, h2, h3  {\n"
                + "    font-family: Helvetica, Arial, sans-serif;\n"
                + "    font-weight: 400;\n"
                + "  }\n"
                + "\n"
                + "  td {\n"
                + "    font-size: 13px;\n"
                + "    line-height: 19px;\n"
                + "    text-align: left;\n"
                + "  }\n"
                + "\n"
                + "  body {\n"
                + "    -webkit-font-smoothing:antialiased;\n"
                + "    -webkit-text-size-adjust:none;\n"
                + "    width: 100%;\n"
                + "    height: 100%;\n"
                + "    color: #37302d;\n"
                + "    background: #ffffff;\n"
                + "  }\n"
                + "\n"
                + "  table {\n"
                + "    border-collapse: collapse !important;\n"
                + "  }\n"
                + "\n"
                + "\n"
                + "  h1, h2, h3, h4 {\n"
                + "    padding: 0;\n"
                + "    margin: 0;\n"
                + "    color: #444444;\n"
                + "    font-weight: 400;\n"
                + "    line-height: 110%;\n"
                + "  }\n"
                + "\n"
                + "  h1 {\n"
                + "    font-size: 35px;\n"
                + "  }\n"
                + "\n"
                + "  h2 {\n"
                + "    font-size: 30px;\n"
                + "  }\n"
                + "\n"
                + "  h3 {\n"
                + "    font-size: 24px;\n"
                + "  }\n"
                + "\n"
                + "  h4 {\n"
                + "    font-size: 18px;\n"
                + "    font-weight: normal;\n"
                + "  }\n"
                + "\n"
                + "  .important-font {\n"
                + "    color: #21BEB4;\n"
                + "    font-weight: bold;\n"
                + "  }\n"
                + "\n"
                + "  .hide {\n"
                + "    display: none !important;\n"
                + "  }\n"
                + "\n"
                + "  .force-full-width {\n"
                + "    width: 100% !important;\n"
                + "  }\n"
                + "\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='screen'>\n"
                + "      @media screen {\n"
                + "        @import url(http://fonts.googleapis.com/css?family=Open+Sans:400);\n"
                + "\n"
                + "        /* Thanks Outlook 2013! */\n"
                + "        td, h1, h2, h3 {\n"
                + "          font-family: 'Open Sans', 'Helvetica Neue', Arial, sans-serif !important;\n"
                + "        }\n"
                + "      }\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='only screen and (max-width: 600px)'>\n"
                + "    /* Mobile styles */\n"
                + "    @media only screen and (max-width: 600px) {\n"
                + "\n"
                + "      table[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w300'] {\n"
                + "        width: 300px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w290'] {\n"
                + "        width: 290px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-padding'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left'] {\n"
                + "        padding-left: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right'] {\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left-only'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right-only'] {\n"
                + "        padding-right: 14px !important;\n"
                + "        padding-left: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-block'] {\n"
                + "        display: block !important;\n"
                + "        width: 100% !important;\n"
                + "        text-align: left !important;\n"
                + "        padding-left: 0 !important;\n"
                + "        padding-right: 0 !important;\n"
                + "        padding-bottom: 15px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-no-padding-bottom'] {\n"
                + "        padding-bottom: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-center'] {\n"
                + "        text-align: center !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class*='mobile-center-block'] {\n"
                + "        float: none !important;\n"
                + "        margin: 0 auto !important;\n"
                + "      }\n"
                + "\n"
                + "      *[class*='mobile-hide'] {\n"
                + "        display: none !important;\n"
                + "        width: 0 !important;\n"
                + "        height: 0 !important;\n"
                + "        line-height: 0 !important;\n"
                + "        font-size: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-border'] {\n"
                + "        border: 0 !important;\n"
                + "      }\n"
                + "    }\n"
                + "  </style>\n"
                + "</head>\n"
                + "<body class='body' style='padding:0; margin:0; display:block; background:#ffffff; -webkit-text-size-adjust:none' bgcolor='#ffffff'>\n"
                + "<table align='center' cellpadding='0' cellspacing='0' width='100%' height='100%'>\n"
                + "  <tr>\n"
                + "    <td align='center' valign='top' bgcolor='#ffffff'  width='100%'>\n"
                + "\n"
                + "    <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "      <tr>\n"
                + "        <td style='background:#c62828' width='100%'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellspacing='0' cellpadding='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-block mobile-no-padding-bottom mobile-center' width='270' style='background:#c62828;padding:10px 10px 10px 20px;'>\n"
                + "                  <a href='#' style='text-decoration:none;'>\n"
                + "                    <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-logo.png' width='142' height='30' alt='GO-FACTURACAO'/>\n"
                + "                  </a>\n"
                + "                </td>\n"
                + "                <td valign='top' class='mobile-block mobile-center' width='270' style='background:#c62828;padding:10px 15px 10px 10px'>\n"
                + "                  <table border='0' cellpadding='0' cellspacing='0' class='mobile-center-block' align='right'>\n"
                + "                    <tr>\n"
                + "                      <td align='right'>\n"
                + "                        <a href='#'>\n"
                + "                        <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-facturacao.png'  width='350' height='30' alt='social icon'/>\n"
                + "                        </a>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellpadding='0' cellspacing='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td align='justify' class='mobile-padding' style='padding:20px 20px 0'>\n"
                + "\n"
                + "                  <br class='mobile-hide' />\n"
                + "\n"
                + "\n"
                + "                  <br>\n"
                + "                 Olá <b>" + nome + "</b>, Confirmamos a alteração da sua senha. Aceda a plataforma através do link abaixo.<br><br>\n"
                + "                   \n"
                + "\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%' bgcolor='#ffffff'>\n"
                + "                    <tr>\n"
                + "                      <td style='width:130px;background:#EF5350;'>\n"
                + "                        <div>\n"
                + "                          <!--[if mso]>\n"
                + "                          <v:rect xmlns:v='urn:schemas-microsoft-com:vml' xmlns:w='urn:schemas-microsoft-com:office:word' href='#' style='height:33px;v-text-anchor:middle;width:130px;' stroke='f' fillcolor='#EF5350'>\n"
                + "                            <w:anchorlock/>\n"
                + "                            <center>\n"
                + "                          <![endif]-->\n"
                + "                              <a href='http://" + ip + ":8085/go-facturacao'\n"
                + "                        style='background-color:#EF5350;color:#ffffff;display:inline-block;font-family:sans-serif;font-size:13px;font-weight:bold;line-height:33px;text-align:center;text-decoration:none;width:230px;-webkit-text-size-adjust:none;'>Aceder a plataforma !</a>\n"
                + "                          <!--[if mso]>\n"
                + "                            </center>\n"
                + "                          </v:rect>\n"
                + "                          <![endif]-->\n"
                + "                        </div>\n"
                + "                      </td>\n"
                + "                      <td width='316' style='background-color:#ffffff; font-size:0; line-height:0;'>&nbsp;</td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                  <br>\n"
                + "                   Obrigado !\n"
                + "                  <br>\n"
                + "                  <b>Equipe do GestaOnline</b>\n"
                + "                  \n"
                + "                  <br><br>\n"
                + "                </td>\n"
                + "                <td class='mobile-hide' style='padding-top:20px;padding-bottom:0;vertical-align:bottom'>\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "                    <tr>\n"
                + "                      <td align='right' valign='bottom' width='220' style='padding-right:20px; padding-bottom:0; vertical-align:bottom;'>\n"
                + "                      <img  style='display:block' src='http://197.249.4.236:8081/suc/images/mail/gestaonline/03-password-check.png'  width='174' height='294' alt='iphone'/>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='background-color:#c62828;'>\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;color:#ffffff' bgcolor='#1f1f1f' >\n"
                + "              <tr>\n"
                + "                <td align='right' valign='middle' class='mobile-padding' style='font-size:9px;padding:20px; background-color:#c62828; color:#ffffff; text-align:left; '>\n"
                + "                  <a style='color:#ffffff;'  href='#'>E-mail enviado automáticamente pelo sistema @ 2017 | Não responda a este e-mail !</a>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "    </table>\n"
                + "\n"
                + "    </td>\n"
                + "  </tr>\n"
                + "</table>\n"
                + "</body>\n"
                + "</html>";

        ms.sendMail(to, subject, message, category);
    }

    public void mailChristimas(Usuario usuario) {

        String nome = encryptUtils.decodeString(usuario.getPessoapess().getPessNome()) + " " + encryptUtils.decodeString(usuario.getPessoapess().getPessApelido());
        String username = encryptUtils.decodeString(usuario.getUsuaUsuario());
        String to = encryptUtils.decodeString(usuario.getPessoapess().getPessEmail());
        String pass = encryptUtils.decodeString(usuario.getUsuaSenha());
        String subject = "GestaOnline-Facturação [BOAS FESTAS]";
        String category = "";

        String message = "<!doctype html>\n"
                + "<html xmlns='http://www.w3.org/1999/xhtml'>\n"
                + "<head>\n"
                + "  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n"
                + "  <meta name='viewport' content='width=device-width, initial-scale=1' />\n"
                + "  <title>GO-FACTURACAO Email</title>\n"
                + "  <style type='text/css'>\n"
                + "\n"
                + "  /* Take care of image borders and formatting */\n"
                + "\n"
                + "  img {\n"
                + "    max-width: 600px;\n"
                + "    outline: none;\n"
                + "    text-decoration: none;\n"
                + "    -ms-interpolation-mode: bicubic;\n"
                + "  }\n"
                + "\n"
                + "  a {\n"
                + "    border: 0;\n"
                + "    outline: none;\n"
                + "  }\n"
                + "\n"
                + "  a img {\n"
                + "    border: none;\n"
                + "  }\n"
                + "\n"
                + "  /* General styling */\n"
                + "\n"
                + "  td, h1, h2, h3  {\n"
                + "    font-family: Helvetica, Arial, sans-serif;\n"
                + "    font-weight: 400;\n"
                + "  }\n"
                + "\n"
                + "  td {\n"
                + "    font-size: 13px;\n"
                + "    line-height: 19px;\n"
                + "    text-align: left;\n"
                + "  }\n"
                + "\n"
                + "  body {\n"
                + "    -webkit-font-smoothing:antialiased;\n"
                + "    -webkit-text-size-adjust:none;\n"
                + "    width: 100%;\n"
                + "    height: 100%;\n"
                + "    color: #37302d;\n"
                + "    background: #ffffff;\n"
                + "  }\n"
                + "\n"
                + "  table {\n"
                + "    border-collapse: collapse !important;\n"
                + "  }\n"
                + "\n"
                + "\n"
                + "  h1, h2, h3, h4 {\n"
                + "    padding: 0;\n"
                + "    margin: 0;\n"
                + "    color: #444444;\n"
                + "    font-weight: 400;\n"
                + "    line-height: 110%;\n"
                + "  }\n"
                + "\n"
                + "  h1 {\n"
                + "    font-size: 35px;\n"
                + "  }\n"
                + "\n"
                + "  h2 {\n"
                + "    font-size: 30px;\n"
                + "  }\n"
                + "\n"
                + "  h3 {\n"
                + "    font-size: 24px;\n"
                + "  }\n"
                + "\n"
                + "  h4 {\n"
                + "    font-size: 18px;\n"
                + "    font-weight: normal;\n"
                + "  }\n"
                + "\n"
                + "  .important-font {\n"
                + "    color: #21BEB4;\n"
                + "    font-weight: bold;\n"
                + "  }\n"
                + "\n"
                + "  .hide {\n"
                + "    display: none !important;\n"
                + "  }\n"
                + "\n"
                + "  .force-full-width {\n"
                + "    width: 100% !important;\n"
                + "  }\n"
                + "\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='screen'>\n"
                + "      @media screen {\n"
                + "        @import url(http://fonts.googleapis.com/css?family=Open+Sans:400);\n"
                + "\n"
                + "        /* Thanks Outlook 2013! */\n"
                + "        td, h1, h2, h3 {\n"
                + "          font-family: 'Open Sans', 'Helvetica Neue', Arial, sans-serif !important;\n"
                + "        }\n"
                + "      }\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='only screen and (max-width: 600px)'>\n"
                + "    /* Mobile styles */\n"
                + "    @media only screen and (max-width: 600px) {\n"
                + "\n"
                + "      table[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w300'] {\n"
                + "        width: 300px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w290'] {\n"
                + "        width: 290px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-padding'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left'] {\n"
                + "        padding-left: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right'] {\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left-only'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right-only'] {\n"
                + "        padding-right: 14px !important;\n"
                + "        padding-left: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-block'] {\n"
                + "        display: block !important;\n"
                + "        width: 100% !important;\n"
                + "        text-align: left !important;\n"
                + "        padding-left: 0 !important;\n"
                + "        padding-right: 0 !important;\n"
                + "        padding-bottom: 15px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-no-padding-bottom'] {\n"
                + "        padding-bottom: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-center'] {\n"
                + "        text-align: center !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class*='mobile-center-block'] {\n"
                + "        float: none !important;\n"
                + "        margin: 0 auto !important;\n"
                + "      }\n"
                + "\n"
                + "      *[class*='mobile-hide'] {\n"
                + "        display: none !important;\n"
                + "        width: 0 !important;\n"
                + "        height: 0 !important;\n"
                + "        line-height: 0 !important;\n"
                + "        font-size: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-border'] {\n"
                + "        border: 0 !important;\n"
                + "      }\n"
                + "    }\n"
                + "  </style>\n"
                + "</head>\n"
                + "<body class='body' style='padding:0; margin:0; display:block; background:#ffffff; -webkit-text-size-adjust:none' bgcolor='#ffffff'>\n"
                + "<table align='center' cellpadding='0' cellspacing='0' width='100%' height='100%'>\n"
                + "  <tr>\n"
                + "    <td align='center' valign='top' bgcolor='#ffffff'  width='100%'>\n"
                + "\n"
                + "    <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "      <tr>\n"
                + "        <td style='background:#c62828' width='100%'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellspacing='0' cellpadding='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-block mobile-no-padding-bottom mobile-center' width='270' style='background:#c62828;padding:10px 10px 10px 20px;'>\n"
                + "                  <a href='#' style='text-decoration:none;'>\n"
                + "                    <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-logo.png' width='142' height='30' alt='GO-FACTURACAO'/>\n"
                + "                  </a>\n"
                + "                </td>\n"
                + "                <td valign='top' class='mobile-block mobile-center' width='270' style='background:#c62828;padding:10px 15px 10px 10px'>\n"
                + "                  <table border='0' cellpadding='0' cellspacing='0' class='mobile-center-block' align='right'>\n"
                + "                    <tr>\n"
                + "                      <td align='right'>\n"
                + "                        <a href='#'>\n"
                + "                        <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-facturacao.png'  width='350' height='30' alt='social icon'/>\n"
                + "                        </a>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellpadding='0' cellspacing='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td align='left' class='mobile-padding' style='padding:20px 20px 0'>\n"
                + "\n"
                + "                  <br class='mobile-hide' />\n"
                + "\n"
                + "                  <h4 style='color:#05145f'><b>PLATAFORMA INTEGRADA DE VENDAS E FACTURAÇÃO</b></h4>\n"
                + "\n"
                + "                  <br>\n"
                + "                   Olá <b>" + nome + "</b>,<br> Ao final de mais um ano, desejamos -te um Natal de plena harmonia e um Ano Novo repleto de novas conquistas.<br> <br> <span style ='color:#5a0200'><b>Boas Festas!</b></span><br>\n"
                + "                  <br>\n"
                + "                </td>\n"
                + "                <td class='mobile-hide' style='padding-top:20px;padding-bottom:0;vertical-align:bottom'>\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "                    <tr>\n"
                + "                      <td align='right' valign='bottom' width='220' style='padding-right:20px; padding-bottom:0; vertical-align:bottom;'>\n"
                + "                      <img  style='display:block' src='http://197.249.4.236:8081/suc/images/mail/gestaonline/07-christmas.png'  width='174' height='294' alt='iphone'/>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td valign='top' style='background-color:#f8f8f8;border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-padding' style='padding:20px;'>\n"
                + "				\n"
                + "                  \n"
                + "                  Obrigado !<br>\n"
                + "                 <b>Equipe do GestaOnline</b><br>\n"
                + "				 \n"
                + "                  <img  style='display:block' src='http://197.249.4.236:8081/suc/images/mail/gestaonline/08-christmas-footer.png'  alt='footer'/>\n"
                + "                  <br>\n"
                + "                 </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='background-color:#c62828;'>\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;color:#ffffff' bgcolor='#1f1f1f' >\n"
                + "              <tr>\n"
                + "                <td align='right' valign='middle' class='mobile-padding' style='font-size:9px;padding:20px; background-color:#c62828; color:#ffffff; text-align:left; '>\n"
                + "                  <a style='color:#ffffff;'  href='#'>E-mail enviado automáticamente pelo sistema @ 2017 | Não responda a este e-mail !</a>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "    </table>\n"
                + "\n"
                + "    </td>\n"
                + "  </tr>\n"
                + "</table>\n"
                + "</body>\n"
                + "</html>";

        ms.sendMail(to, subject, message, category);

    }

    public void mailCostumerList(Usuario usuario, List<Cliente> clientes) {

        String nome = encryptUtils.decodeString(usuario.getPessoapess().getPessNome()) + " " + encryptUtils.decodeString(usuario.getPessoapess().getPessApelido());
        String username = encryptUtils.decodeString(usuario.getUsuaUsuario());
        String to = encryptUtils.decodeString(usuario.getPessoapess().getPessEmail());
        String pass = encryptUtils.decodeString(usuario.getUsuaSenha());
        String subject = "GestaOnline-Facturação [LISTA DE CLIENTES]";
        String category = "";

        String message = "<html xmlns='http://www.w3.org/1999/xhtml'>\n"
                + "    <head>\n"
                + "        <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n"
                + "        <meta name='viewport' content='width=device-width, initial-scale=1' />\n"
                + "        <title>GO-FACTURACAO Email</title>\n"
                + "\n"
                + "	<!-- Latest compiled and minified CSS -->\n"
                + "	<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css' integrity='sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7' crossorigin='anonymous'>\n"
                + "\n"
                + "	<!-- Optional theme -->\n"
                + "	<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css' integrity='sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r' crossorigin='anonymous'>\n"
                + "\n"
                + "        <style type='text/css'>\n"
                + "\n"
                + "            /* Take care of image borders and formatting */\n"
                + "\n"
                + "            img {\n"
                + "                max-width: 600px;\n"
                + "                outline: none;\n"
                + "                text-decoration: none;\n"
                + "                -ms-interpolation-mode: bicubic;\n"
                + "            }\n"
                + "\n"
                + "            a {\n"
                + "                border: 0;\n"
                + "                outline: none;\n"
                + "            }\n"
                + "\n"
                + "            a img {\n"
                + "                border: none;\n"
                + "            }\n"
                + "\n"
                + "            /* General styling */\n"
                + "\n"
                + "            td, h1, h2, h3  {\n"
                + "                font-family: Helvetica, Arial, sans-serif;\n"
                + "                font-weight: 400;\n"
                + "            }\n"
                + "\n"
                + "            td {\n"
                + "                font-size: 13px;\n"
                + "                line-height: 19px;\n"
                + "                text-align: left;\n"
                + "            }\n"
                + "\n"
                + "            body {\n"
                + "                -webkit-font-smoothing:antialiased;\n"
                + "                -webkit-text-size-adjust:none;\n"
                + "                width: 100%;\n"
                + "                height: 100%;\n"
                + "                color: #37302d;\n"
                + "                background: #ffffff;\n"
                + "            }\n"
                + "\n"
                + "            table {\n"
                + "                border-collapse: collapse !important;\n"
                + "            }\n"
                + "\n"
                + "\n"
                + "            h1, h2, h3, h4 {\n"
                + "                padding: 0;\n"
                + "                margin: 0;\n"
                + "                color: #444444;\n"
                + "                font-weight: 400;\n"
                + "                line-height: 110%;\n"
                + "            }\n"
                + "\n"
                + "            h1 {\n"
                + "                font-size: 35px;\n"
                + "            }\n"
                + "\n"
                + "            h2 {\n"
                + "                font-size: 30px;\n"
                + "            }\n"
                + "\n"
                + "            h3 {\n"
                + "                font-size: 24px;\n"
                + "            }\n"
                + "\n"
                + "            h4 {\n"
                + "                font-size: 18px;\n"
                + "                font-weight: normal;\n"
                + "            }\n"
                + "\n"
                + "            .important-font {\n"
                + "                color: #21BEB4;\n"
                + "                font-weight: bold;\n"
                + "            }\n"
                + "\n"
                + "            .hide {\n"
                + "                display: none !important;\n"
                + "            }\n"
                + "\n"
                + "            .force-full-width {\n"
                + "                width: 100% !important;\n"
                + "            }\n"
                + "\n"
                + "table.table-style-two {\n"
                + "		font-family: verdana, arial, sans-serif;\n"
                + "		font-size: 11px;\n"
                + "		color: #333333;\n"
                + "		border-width: 1px;\n"
                + "		border-color: #3A3A3A;\n"
                + "		border-collapse: collapse;\n"
                + "	}\n"
                + " \n"
                + "	table.table-style-two th {\n"
                + "		border-width: 1px;\n"
                + "		padding: 8px;\n"
                + "		border-style: solid;\n"
                + "		border-color: #555555;\n"
                + "		background-color: #999999;\n"
                + "	}\n"
                + " \n"
                + "	table.table-style-two tr:hover td {\n"
                + "		background-color: #DFEBF1;\n"
                + "	}\n"
                + " \n"
                + "	table.table-style-two td {\n"
                + "		border-width: 1px;\n"
                + "		padding: 8px;\n"
                + "		border-style: solid;\n"
                + "		border-color: #555555;\n"
                + "		background-color: #ffffff;\n"
                + "	}\n"
                + "        </style>\n"
                + "        \n"
                + "      <style type='text/css' media='screen'>\n"
                + "      @media screen {\n"
                + "        @import url(http://fonts.googleapis.com/css?family=Open+Sans:400);\n"
                + "\n"
                + "        /* Thanks Outlook 2013! */\n"
                + "        td, h1, h2, h3 {\n"
                + "          font-family: 'Open Sans', 'Helvetica Neue', Arial, sans-serif !important;\n"
                + "        }\n"
                + "      }\n"
                + "  </style>\n"
                + "\n"
                + "        <style type='text/css' media='only screen and (max-width: 600px)'>\n"
                + "            /* Mobile styles */\n"
                + "            @media only screen and (max-width: 600px) {\n"
                + "\n"
                + "                table[class='w320'] {\n"
                + "                    width: 320px !important;\n"
                + "                }\n"
                + "\n"
                + "                table[class='w300'] {\n"
                + "                    width: 300px !important;\n"
                + "                }\n"
                + "\n"
                + "                table[class='w290'] {\n"
                + "                    width: 290px !important;\n"
                + "                }\n"
                + "\n"
                + "                td[class='w320'] {\n"
                + "                    width: 320px !important;\n"
                + "                }\n"
                + "\n"
                + "                td[class~='mobile-padding'] {\n"
                + "                    padding-left: 14px !important;\n"
                + "                    padding-right: 14px !important;\n"
                + "                }\n"
                + "\n"
                + "                td[class*='mobile-padding-left'] {\n"
                + "                    padding-left: 14px !important;\n"
                + "                }\n"
                + "\n"
                + "                td[class*='mobile-padding-right'] {\n"
                + "                    padding-right: 14px !important;\n"
                + "                }\n"
                + "\n"
                + "                td[class*='mobile-padding-left-only'] {\n"
                + "                    padding-left: 14px !important;\n"
                + "                    padding-right: 0 !important;\n"
                + "                }\n"
                + "\n"
                + "                td[class*='mobile-padding-right-only'] {\n"
                + "                    padding-right: 14px !important;\n"
                + "                    padding-left: 0 !important;\n"
                + "                }\n"
                + "\n"
                + "                td[class*='mobile-block'] {\n"
                + "                    display: block !important;\n"
                + "                    width: 100% !important;\n"
                + "                    text-align: left !important;\n"
                + "                    padding-left: 0 !important;\n"
                + "                    padding-right: 0 !important;\n"
                + "                    padding-bottom: 15px !important;\n"
                + "                }\n"
                + "\n"
                + "                td[class*='mobile-no-padding-bottom'] {\n"
                + "                    padding-bottom: 0 !important;\n"
                + "                }\n"
                + "\n"
                + "                td[class~='mobile-center'] {\n"
                + "                    text-align: center !important;\n"
                + "                }\n"
                + "\n"
                + "                table[class*='mobile-center-block'] {\n"
                + "                    float: none !important;\n"
                + "                    margin: 0 auto !important;\n"
                + "                }\n"
                + "\n"
                + "                *[class*='mobile-hide'] {\n"
                + "                    display: none !important;\n"
                + "                    width: 0 !important;\n"
                + "                    height: 0 !important;\n"
                + "                    line-height: 0 !important;\n"
                + "                    font-size: 0 !important;\n"
                + "                }\n"
                + "\n"
                + "                td[class*='mobile-border'] {\n"
                + "                    border: 0 !important;\n"
                + "                }\n"
                + "            }\n"
                + "        </style>\n"
                + "    </head>\n"
                + "    <body class='body' style='padding:0; margin:0; display:block; background:#ffffff; -webkit-text-size-adjust:none' bgcolor='#ffffff'>\n"
                + "        <table align='center' cellpadding='0' cellspacing='0' width='100%' height='100%'>\n"
                + "            <tr>\n"
                + "                <td align='center' valign='top' bgcolor='#ffffff'  width='100%'>\n"
                + "\n"
                + "                    <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "                        <tr>\n"
                + "                            <td style='background:#c62828' width='100%'>\n"
                + "\n"
                + "                                <center>\n"
                + "                                    <table cellspacing='0' cellpadding='0' width='100%' class='w320'>\n"
                + "                                        <tr>\n"
                + "                                            <td valign='top' class='mobile-block mobile-no-padding-bottom mobile-center' width='270' style='background:#c62828;padding:10px 10px 10px 20px;'>\n"
                + "                                                <a href='#' style='text-decoration:none;'>\n"
                + "                                                    <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-logo.png' width='142' height='30' alt='GO-FACTURACAO'/>\n"
                + "                                                </a>\n"
                + "                                            </td>\n"
                + "                                            <td valign='top' class='mobile-block mobile-center' width='270' style='background:#c62828;padding:10px 15px 10px 10px'>\n"
                + "                                                <table border='0' cellpadding='0' cellspacing='0' class='mobile-center-block' align='right'>\n"
                + "                                                    <tr>\n"
                + "                                                        <td align='right'>\n"
                + "                                                            <a href='#'>\n"
                + "                                                                <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-facturacao.png'  width='350' height='30' alt='social icon'/>\n"
                + "                                                            </a>\n"
                + "                                                        </td>\n"
                + "                                                    </tr>\n"
                + "                                                </table>\n"
                + "                                            </td>\n"
                + "                                        </tr>\n"
                + "                                    </table>\n"
                + "                                </center>\n"
                + "\n"
                + "                            </td>\n"
                + "                        </tr>\n"
                + "                        <tr>\n"
                + "                            <td style='border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "							<center>\n"
                + "               \n"
                + "			   \n"
                + "										  <br>\n"
                + "											<table class='table-style-two'>\n"
                + "												<thead>\n"
                + "	\n"
                + "														\n"
                + "														  <tr align='center'>\n"
                + "															<th colspan='6' scope='col' class='text-center text-bold text-uppercase' style='background:#c62828; color:#fff'>Lista dos clientes</th>\n"
                + "														  </tr>\n"
                + "  \n"
                + "														  <tr  align='center'>\n"
                + "															<th class='text-center text-bold text-uppercase'>Nº</th>\n"
                + "															<th class='text-center text-bold text-uppercase'>Descrição</th>\n"
                + "															<th class='text-center text-bold text-uppercase'>Contacto</th>\n"
                + "															<th class='text-center text-bold text-uppercase'>Nuit</th>\n"
                + "															<th class='text-center text-bold text-uppercase'>E-mail</th>\n"
                + "															<th class='text-center text-bold text-uppercase'>Endereço</th>\n"
                + "															<th class='text-center text-bold text-uppercase'>Crédito</th>\n"
                + "															<th class='text-center text-bold text-uppercase'>Débito</th>\n"
                + "															\n"
                + "														  </tr>\n"
                + "												</thead>\n"
                + "												<tbody>\n"
                + "\n";

        if (clientes != null) {
            int x = 0;
            for (Cliente c : clientes) {

                x++;
                String des = encryptUtils.decodeString(c.getPessoapess().getPessNome()) + " " + encryptUtils.decodeString(c.getPessoapess().getPessApelido());
                String cnt = encryptUtils.decodeString(c.getPessoapess().getPessContacto());
                String nuit = encryptUtils.decodeString(c.getPessoapess().getPessNuit());
                String end = encryptUtils.decodeString(c.getPessoapess().getPessBairro());
                String mail = encryptUtils.decodeString(c.getPessoapess().getPessEmail());
                String cred = df.format(c.getClieSaldoCredito());
                String deb = df.format(c.getClieSaldoDebito());

                message += "														  <tr>\n"
                        + "															<td class='text-semibold text-center'><center><b>" + x + "</b></center></td>\n"
                        + "															<td class='text-semibold text-center'><b>" + des + "</b></td>\n"
                        + "															<td class='text-semibold text-center'><center><b>" + cnt + "</b></center></td>\n"
                        + "															<td class='text-semibold text-center'><center><b>" + nuit + "</b></center></td>\n"
                        + "															<td class='text-semibold text-center'><b>" + mail + "</b></td>\n"
                        + "															<td class='text-semibold text-center'><b>" + end + "</b></td>\n"
                        + "															<td class='text-semibold text-center'><b>" + cred + "</b></td>\n"
                        + "															<td class='text-semibold text-center'><b>" + deb + "</b></td>\n"
                        + "															\n"
                        + "														  </tr>\n";
            }
        }
        message += "\n"
                + "														 \n"
                + "												</tbody>\n"
                + "											</table> \n"
                + "											<br>\n"
                + "						    </center>\n"
                + "									\n"
                + "			\n"
                + "\n"
                + "                           </td>\n"
                + "                        </tr>\n"
                + "                        <tr>\n"
                + "                            <td style='background-color:#c62828;'>\n"
                + "                                <center>\n"
                + "                                    <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;color:#ffffff' bgcolor='#1f1f1f' >\n"
                + "                                        <tr>\n"
                + "                                            <td align='right' valign='middle' class='mobile-padding' style='font-size:9px; padding:20px; background-color:#c62828; color:#ffffff; text-align:left; '>\n"
                + "                                               <center> <a style='color:#ffffff;'  href='#'>E-mail enviado automáticamente pelo sistema @ 2017 | Não responda a este e-mail !</a> </center>\n"
                + "                                           </td>\n"
                + "                                        </tr>\n"
                + "                                    </table>\n"
                + "                                </center>\n"
                + "                            </td>\n"
                + "                        </tr>\n"
                + "                    </table>\n"
                + "\n"
                + "                </td>\n"
                + "            </tr>\n"
                + "        </table>\n"
                + "    </body>\n"
                + "</html>";

        ms.sendMail(to, subject, message, category);

    }

    public void mailManual(Usuario usuario) {

        String nome = encryptUtils.decodeString(usuario.getPessoapess().getPessNome()) + " " + encryptUtils.decodeString(usuario.getPessoapess().getPessApelido());
        String username = encryptUtils.decodeString(usuario.getUsuaUsuario());
        String to = encryptUtils.decodeString(usuario.getPessoapess().getPessEmail());
        String pass = encryptUtils.decodeString(usuario.getUsuaSenha());
        String subject = "GestaOnline-Facturação [MANUAL]";
        String category = "";

        String message = "<!doctype html>\n"
                + "<html xmlns='http://www.w3.org/1999/xhtml'>\n"
                + "<head>\n"
                + "  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n"
                + "  <meta name='viewport' content='width=device-width, initial-scale=1' />\n"
                + "  <title>GO-FACTURACAO Email</title>\n"
                + "  <style type='text/css'>\n"
                + "\n"
                + "  /* Take care of image borders and formatting */\n"
                + "\n"
                + "  img {\n"
                + "    max-width: 600px;\n"
                + "    outline: none;\n"
                + "    text-decoration: none;\n"
                + "    -ms-interpolation-mode: bicubic;\n"
                + "  }\n"
                + "\n"
                + "  a {\n"
                + "    border: 0;\n"
                + "    outline: none;\n"
                + "  }\n"
                + "\n"
                + "  a img {\n"
                + "    border: none;\n"
                + "  }\n"
                + "\n"
                + "  /* General styling */\n"
                + "\n"
                + "  td, h1, h2, h3  {\n"
                + "    font-family: Helvetica, Arial, sans-serif;\n"
                + "    font-weight: 400;\n"
                + "  }\n"
                + "\n"
                + "  td {\n"
                + "    font-size: 13px;\n"
                + "    line-height: 19px;\n"
                + "    text-align: left;\n"
                + "  }\n"
                + "\n"
                + "  body {\n"
                + "    -webkit-font-smoothing:antialiased;\n"
                + "    -webkit-text-size-adjust:none;\n"
                + "    width: 100%;\n"
                + "    height: 100%;\n"
                + "    color: #37302d;\n"
                + "    background: #ffffff;\n"
                + "  }\n"
                + "\n"
                + "  table {\n"
                + "    border-collapse: collapse !important;\n"
                + "  }\n"
                + "\n"
                + "\n"
                + "  h1, h2, h3, h4 {\n"
                + "    padding: 0;\n"
                + "    margin: 0;\n"
                + "    color: #444444;\n"
                + "    font-weight: 400;\n"
                + "    line-height: 110%;\n"
                + "  }\n"
                + "\n"
                + "  h1 {\n"
                + "    font-size: 35px;\n"
                + "  }\n"
                + "\n"
                + "  h2 {\n"
                + "    font-size: 30px;\n"
                + "  }\n"
                + "\n"
                + "  h3 {\n"
                + "    font-size: 24px;\n"
                + "  }\n"
                + "\n"
                + "  h4 {\n"
                + "    font-size: 18px;\n"
                + "    font-weight: normal;\n"
                + "  }\n"
                + "\n"
                + "  .important-font {\n"
                + "    color: #21BEB4;\n"
                + "    font-weight: bold;\n"
                + "  }\n"
                + "\n"
                + "  .hide {\n"
                + "    display: none !important;\n"
                + "  }\n"
                + "\n"
                + "  .force-full-width {\n"
                + "    width: 100% !important;\n"
                + "  }\n"
                + "\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='screen'>\n"
                + "      @media screen {\n"
                + "        @import url(http://fonts.googleapis.com/css?family=Open+Sans:400);\n"
                + "\n"
                + "        /* Thanks Outlook 2013! */\n"
                + "        td, h1, h2, h3 {\n"
                + "          font-family: 'Open Sans', 'Helvetica Neue', Arial, sans-serif !important;\n"
                + "        }\n"
                + "      }\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='only screen and (max-width: 600px)'>\n"
                + "    /* Mobile styles */\n"
                + "    @media only screen and (max-width: 600px) {\n"
                + "\n"
                + "      table[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w300'] {\n"
                + "        width: 300px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w290'] {\n"
                + "        width: 290px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-padding'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left'] {\n"
                + "        padding-left: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right'] {\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left-only'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right-only'] {\n"
                + "        padding-right: 14px !important;\n"
                + "        padding-left: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-block'] {\n"
                + "        display: block !important;\n"
                + "        width: 100% !important;\n"
                + "        text-align: left !important;\n"
                + "        padding-left: 0 !important;\n"
                + "        padding-right: 0 !important;\n"
                + "        padding-bottom: 15px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-no-padding-bottom'] {\n"
                + "        padding-bottom: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-center'] {\n"
                + "        text-align: center !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class*='mobile-center-block'] {\n"
                + "        float: none !important;\n"
                + "        margin: 0 auto !important;\n"
                + "      }\n"
                + "\n"
                + "      *[class*='mobile-hide'] {\n"
                + "        display: none !important;\n"
                + "        width: 0 !important;\n"
                + "        height: 0 !important;\n"
                + "        line-height: 0 !important;\n"
                + "        font-size: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-border'] {\n"
                + "        border: 0 !important;\n"
                + "      }\n"
                + "    }\n"
                + "  </style>\n"
                + "</head>\n"
                + "<body class='body' style='padding:0; margin:0; display:block; background:#ffffff; -webkit-text-size-adjust:none' bgcolor='#ffffff'>\n"
                + "<table align='center' cellpadding='0' cellspacing='0' width='100%' height='100%'>\n"
                + "  <tr>\n"
                + "    <td align='center' valign='top' bgcolor='#ffffff'  width='100%'>\n"
                + "\n"
                + "    <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "      <tr>\n"
                + "        <td style='background:#c62828' width='100%'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellspacing='0' cellpadding='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-block mobile-no-padding-bottom mobile-center' width='270' style='background:#c62828;padding:10px 10px 10px 20px;'>\n"
                + "                  <a href='#' style='text-decoration:none;'>\n"
                + "                    <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-logo.png' width='142' height='30' alt='GO-FACTURACAO'/>\n"
                + "                  </a>\n"
                + "                </td>\n"
                + "                <td valign='top' class='mobile-block mobile-center' width='270' style='background:#c62828;padding:10px 15px 10px 10px'>\n"
                + "                  <table border='0' cellpadding='0' cellspacing='0' class='mobile-center-block' align='right'>\n"
                + "                    <tr>\n"
                + "                      <td align='right'>\n"
                + "                        <a href='#'>\n"
                + "                        <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-facturacao.png'  width='350' height='30' alt='social icon'/>\n"
                + "                        </a>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellpadding='0' cellspacing='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td align='justify' class='mobile-padding' style='padding:20px 20px 0'>\n"
                + "\n"
                + "                  <br class='mobile-hide' />\n"
                + "\n"
                + "\n"
                + "                  <br>\n"
                + "                 Olá <b>" + nome + "</b>, tenha ao seu dispor o manual de procidementos para a utilização da plataforma integrada de vendas e facturação.<br>Clique no link abaixo para efctuar o download do manual.<br><br>\n"
                + "                   \n"
                + "\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%' bgcolor='#ffffff'>\n"
                + "                    <tr>\n"
                + "                      <td style='width:130px;background:#EF5350;'>\n"
                + "                        <div>\n"
                + "                          <!--[if mso]>\n"
                + "                          <v:rect xmlns:v='urn:schemas-microsoft-com:vml' xmlns:w='urn:schemas-microsoft-com:office:word' href='#' style='height:33px;v-text-anchor:middle;width:130px;' stroke='f' fillcolor='#EF5350'>\n"
                + "                            <w:anchorlock/>\n"
                + "                            <center>\n"
                + "                          <![endif]-->\n"
                + "                              <a href='http://197.249.4.236:8081/suc/pdf/08-pigi-manual-utilizadores-fipag.pdf' target='_blank'\n"
                + "                        style='background-color:#EF5350;color:#ffffff;display:inline-block;font-family:sans-serif;font-size:13px;font-weight:bold;line-height:33px;text-align:center;text-decoration:none;width:230px;-webkit-text-size-adjust:none;'> Download do manual </a>\n"
                + "                          <!--[if mso]>\n"
                + "                            </center>\n"
                + "                          </v:rect>\n"
                + "                          <![endif]-->\n"
                + "                        </div>\n"
                + "                      </td>\n"
                + "                      <td width='316' style='background-color:#ffffff; font-size:0; line-height:0;'>&nbsp;</td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                  <br>\n"
                + "                   Obrigado !\n"
                + "                  <br>\n"
                + "                  <b>Equipe do GestaOnline</b>\n"
                + "                  \n"
                + "                  <br><br>\n"
                + "                </td>\n"
                + "                <td class='mobile-hide' style='padding-top:20px;padding-bottom:0;vertical-align:bottom'>\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "                    <tr>\n"
                + "                      <td align='right' valign='bottom' width='220' style='padding-right:20px; padding-bottom:0; vertical-align:bottom;'>\n"
                + "                      <img  style='display:block' src='http://197.249.4.236:8081/suc/images/mail/gestaonline/06-manual.png'  width='174' height='294' alt='iphone'/>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='background-color:#c62828;'>\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;color:#ffffff' bgcolor='#1f1f1f' >\n"
                + "              <tr>\n"
                + "                <td align='right' valign='middle' class='mobile-padding' style='font-size:9px;padding:20px; background-color:#c62828; color:#ffffff; text-align:left; '>\n"
                + "                  <a style='color:#ffffff;'  href='#'>E-mail enviado automáticamente pelo sistema @ 2017 | Não responda a este e-mail !</a>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "    </table>\n"
                + "\n"
                + "    </td>\n"
                + "  </tr>\n"
                + "</table>\n"
                + "</body>\n"
                + "</html>";

        ms.sendMail(to, subject, message, category);

    }

    public void mailPassword(Usuario usuario) {

        String nome = encryptUtils.decodeString(usuario.getPessoapess().getPessNome()) + " " + encryptUtils.decodeString(usuario.getPessoapess().getPessApelido());
        String username = encryptUtils.decodeString(usuario.getUsuaUsuario());
        String to = encryptUtils.decodeString(usuario.getPessoapess().getPessEmail());
        String pass = encryptUtils.decodeString(usuario.getUsuaSenha());
        String subject = "GestaOnline-Facturação [REDIFINIÇÃO DA SENHA]";
        String category = "";

        String message = "<!doctype html>\n"
                + "<html xmlns='http://www.w3.org/1999/xhtml'>\n"
                + "<head>\n"
                + "  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n"
                + "  <meta name='viewport' content='width=device-width, initial-scale=1' />\n"
                + "  <title>GO-FACTURACAO Email</title>\n"
                + "  <style type='text/css'>\n"
                + "\n"
                + "  /* Take care of image borders and formatting */\n"
                + "\n"
                + "  img {\n"
                + "    max-width: 600px;\n"
                + "    outline: none;\n"
                + "    text-decoration: none;\n"
                + "    -ms-interpolation-mode: bicubic;\n"
                + "  }\n"
                + "\n"
                + "  a {\n"
                + "    border: 0;\n"
                + "    outline: none;\n"
                + "  }\n"
                + "\n"
                + "  a img {\n"
                + "    border: none;\n"
                + "  }\n"
                + "\n"
                + "  /* General styling */\n"
                + "\n"
                + "  td, h1, h2, h3  {\n"
                + "    font-family: Helvetica, Arial, sans-serif;\n"
                + "    font-weight: 400;\n"
                + "  }\n"
                + "\n"
                + "  td {\n"
                + "    font-size: 13px;\n"
                + "    line-height: 19px;\n"
                + "    text-align: left;\n"
                + "  }\n"
                + "\n"
                + "  body {\n"
                + "    -webkit-font-smoothing:antialiased;\n"
                + "    -webkit-text-size-adjust:none;\n"
                + "    width: 100%;\n"
                + "    height: 100%;\n"
                + "    color: #37302d;\n"
                + "    background: #ffffff;\n"
                + "  }\n"
                + "\n"
                + "  table {\n"
                + "    border-collapse: collapse !important;\n"
                + "  }\n"
                + "\n"
                + "\n"
                + "  h1, h2, h3, h4 {\n"
                + "    padding: 0;\n"
                + "    margin: 0;\n"
                + "    color: #444444;\n"
                + "    font-weight: 400;\n"
                + "    line-height: 110%;\n"
                + "  }\n"
                + "\n"
                + "  h1 {\n"
                + "    font-size: 35px;\n"
                + "  }\n"
                + "\n"
                + "  h2 {\n"
                + "    font-size: 30px;\n"
                + "  }\n"
                + "\n"
                + "  h3 {\n"
                + "    font-size: 24px;\n"
                + "  }\n"
                + "\n"
                + "  h4 {\n"
                + "    font-size: 18px;\n"
                + "    font-weight: normal;\n"
                + "  }\n"
                + "\n"
                + "  .important-font {\n"
                + "    color: #21BEB4;\n"
                + "    font-weight: bold;\n"
                + "  }\n"
                + "\n"
                + "  .hide {\n"
                + "    display: none !important;\n"
                + "  }\n"
                + "\n"
                + "  .force-full-width {\n"
                + "    width: 100% !important;\n"
                + "  }\n"
                + "\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='screen'>\n"
                + "      @media screen {\n"
                + "        @import url(http://fonts.googleapis.com/css?family=Open+Sans:400);\n"
                + "\n"
                + "        /* Thanks Outlook 2013! */\n"
                + "        td, h1, h2, h3 {\n"
                + "          font-family: 'Open Sans', 'Helvetica Neue', Arial, sans-serif !important;\n"
                + "        }\n"
                + "      }\n"
                + "  </style>\n"
                + "\n"
                + "  <style type='text/css' media='only screen and (max-width: 600px)'>\n"
                + "    /* Mobile styles */\n"
                + "    @media only screen and (max-width: 600px) {\n"
                + "\n"
                + "      table[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w300'] {\n"
                + "        width: 300px !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class='w290'] {\n"
                + "        width: 290px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class='w320'] {\n"
                + "        width: 320px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-padding'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left'] {\n"
                + "        padding-left: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right'] {\n"
                + "        padding-right: 14px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-left-only'] {\n"
                + "        padding-left: 14px !important;\n"
                + "        padding-right: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-padding-right-only'] {\n"
                + "        padding-right: 14px !important;\n"
                + "        padding-left: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-block'] {\n"
                + "        display: block !important;\n"
                + "        width: 100% !important;\n"
                + "        text-align: left !important;\n"
                + "        padding-left: 0 !important;\n"
                + "        padding-right: 0 !important;\n"
                + "        padding-bottom: 15px !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-no-padding-bottom'] {\n"
                + "        padding-bottom: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class~='mobile-center'] {\n"
                + "        text-align: center !important;\n"
                + "      }\n"
                + "\n"
                + "      table[class*='mobile-center-block'] {\n"
                + "        float: none !important;\n"
                + "        margin: 0 auto !important;\n"
                + "      }\n"
                + "\n"
                + "      *[class*='mobile-hide'] {\n"
                + "        display: none !important;\n"
                + "        width: 0 !important;\n"
                + "        height: 0 !important;\n"
                + "        line-height: 0 !important;\n"
                + "        font-size: 0 !important;\n"
                + "      }\n"
                + "\n"
                + "      td[class*='mobile-border'] {\n"
                + "        border: 0 !important;\n"
                + "      }\n"
                + "    }\n"
                + "  </style>\n"
                + "</head>\n"
                + "<body class='body' style='padding:0; margin:0; display:block; background:#ffffff; -webkit-text-size-adjust:none' bgcolor='#ffffff'>\n"
                + "<table align='center' cellpadding='0' cellspacing='0' width='100%' height='100%'>\n"
                + "  <tr>\n"
                + "    <td align='center' valign='top' bgcolor='#ffffff'  width='100%'>\n"
                + "\n"
                + "    <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "      <tr>\n"
                + "        <td style='background:#c62828' width='100%'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellspacing='0' cellpadding='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td valign='top' class='mobile-block mobile-no-padding-bottom mobile-center' width='270' style='background:#c62828;padding:10px 10px 10px 20px;'>\n"
                + "                  <a href='#' style='text-decoration:none;'>\n"
                + "                    <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-logo.png' width='142' height='30' alt='GO-FACTURACAO'/>\n"
                + "                  </a>\n"
                + "                </td>\n"
                + "                <td valign='top' class='mobile-block mobile-center' width='270' style='background:#c62828;padding:10px 15px 10px 10px'>\n"
                + "                  <table border='0' cellpadding='0' cellspacing='0' class='mobile-center-block' align='right'>\n"
                + "                    <tr>\n"
                + "                      <td align='right'>\n"
                + "                        <a href='#'>\n"
                + "                        <img src='http://197.249.4.236:8081/suc/images/mail/gestaonline/gestaonline-facturacao.png'  width='350' height='30' alt='social icon'/>\n"
                + "                        </a>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='border-bottom:1px solid #e7e7e7;'>\n"
                + "\n"
                + "          <center>\n"
                + "            <table cellpadding='0' cellspacing='0' width='600' class='w320'>\n"
                + "              <tr>\n"
                + "                <td align='justify' class='mobile-padding' style='padding:20px 20px 0'>\n"
                + "\n"
                + "                  <br class='mobile-hide' />\n"
                + "\n"
                + "\n"
                + "                  <br>\n"
                + "                   Olá <b>" + nome + "</b>! Detectamos um pedido de redefinição da sua senha, clique no link abaixo para ser redirecionado a página que lhe dará a possibilidade de redefinir a sua senha. É importante que tenha em mente a sua resposta de segurança, pois será utilizada para confirmar o pedido.<br><br>\n"
                + "                   \n"
                + "\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%' bgcolor='#ffffff'>\n"
                + "                    <tr>\n"
                + "                      <td style='width:130px;background:#EF5350;'>\n"
                + "                        <div>\n"
                + "                          <!--[if mso]>\n"
                + "                          <v:rect xmlns:v='urn:schemas-microsoft-com:vml' xmlns:w='urn:schemas-microsoft-com:office:word' href='#' style='height:33px;v-text-anchor:middle;width:130px;' stroke='f' fillcolor='#EF5350'>\n"
                + "                            <w:anchorlock/>\n"
                + "                            <center>\n"
                + "                          <![endif]-->\n"
                + "                              <a href='http://" + ip + ":8085/go-facturacao/user-password-recover'\n"
                + "                        style='background-color:#EF5350;color:#ffffff;display:inline-block;font-family:sans-serif;font-size:13px;font-weight:bold;line-height:33px;text-align:center;text-decoration:none;width:230px;-webkit-text-size-adjust:none;'>Redefinir a senha!</a>\n"
                + "                          <!--[if mso]>\n"
                + "                            </center>\n"
                + "                          </v:rect>\n"
                + "                          <![endif]-->\n"
                + "                        </div>\n"
                + "                      </td>\n"
                + "                      <td width='316' style='background-color:#ffffff; font-size:0; line-height:0;'>&nbsp;</td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                  <br>\n"
                + "                   Obrigado !\n"
                + "                  <br>\n"
                + "                  <b>Equipe do GestaOnline</b>\n"
                + "                  \n"
                + "                  <br><br>\n"
                + "                </td>\n"
                + "                <td class='mobile-hide' style='padding-top:20px;padding-bottom:0;vertical-align:bottom'>\n"
                + "                  <table cellspacing='0' cellpadding='0' width='100%'>\n"
                + "                    <tr>\n"
                + "                      <td align='right' valign='bottom' width='220' style='padding-right:20px; padding-bottom:0; vertical-align:bottom;'>\n"
                + "                      <img  style='display:block' src='http://197.249.4.236:8081/suc/images/mail/gestaonline/02-password-reset-iphone.png'  width='174' height='294' alt='iphone'/>\n"
                + "                      </td>\n"
                + "                    </tr>\n"
                + "                  </table>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "      <tr>\n"
                + "        <td style='background-color:#c62828;'>\n"
                + "          <center>\n"
                + "            <table border='0' cellpadding='0' cellspacing='0' width='600' class='w320' style='height:100%;color:#ffffff' bgcolor='#1f1f1f' >\n"
                + "              <tr>\n"
                + "                <td align='right' valign='middle' class='mobile-padding' style='font-size:9px;padding:20px; background-color:#c62828; color:#ffffff; text-align:left; '>\n"
                + "                  <a style='color:#ffffff;'  href='#'>E-mail enviado automáticamente pelo sistema @ 2017 | Não responda a este e-mail !</a>\n"
                + "                </td>\n"
                + "              </tr>\n"
                + "            </table>\n"
                + "          </center>\n"
                + "        </td>\n"
                + "      </tr>\n"
                + "    </table>\n"
                + "\n"
                + "    </td>\n"
                + "  </tr>\n"
                + "</table>\n"
                + "</body>\n"
                + "</html>";

        ms.sendMail(to, subject, message, category);

    }

}
